<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../assets/images/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-7.1.2"><title>Syntax - Yona Language</title><link rel=stylesheet href=../assets/stylesheets/main.6f955dcd.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ef6f36e2.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-1855461-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#terminology class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Yona Language" class="md-header__button md-logo" aria-label="Yona Language" data-md-component=logo> <img src=../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Yona Language </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Syntax </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/yona-lang/yona/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> yona-lang/yona </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Yona Language" class="md-nav__button md-logo" aria-label="Yona Language" data-md-component=logo> <img src=../assets/images/logo.png alt=logo> </a> Yona Language </label> <div class=md-nav__source> <a href=https://github.com/yona-lang/yona/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> yona-lang/yona </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Yona Language </a> </li> <li class=md-nav__item> <a href=../about/ class=md-nav__link> About Yona </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Getting started <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Getting started" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../getting_started/installation/ class=md-nav__link> Installation </a> </li> <li class=md-nav__item> <a href=../getting_started/release-notes/ class=md-nav__link> Release Notes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Syntax <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Syntax </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#terminology class=md-nav__link> Terminology </a> </li> <li class=md-nav__item> <a href=#functions-definition-and-application class=md-nav__link> Functions: definition and application </a> <nav class=md-nav aria-label="Functions: definition and application"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#anonymous-functions-aka-lambdas class=md-nav__link> Anonymous functions: aka lambdas </a> </li> <li class=md-nav__item> <a href=#function-application-calling-functions class=md-nav__link> Function application: calling functions </a> </li> <li class=md-nav__item> <a href=#pipes-and-operator-precedence class=md-nav__link> Pipes and operator precedence </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#let-expression class=md-nav__link> let expression: defining local aliases / pattern matching in the scope of evaluated expression </a> </li> <li class=md-nav__item> <a href=#do-expression class=md-nav__link> do expression: sequencing side effects </a> </li> <li class=md-nav__item> <a href=#case-expression-pattern-matching class=md-nav__link> case expression: pattern matching </a> </li> <li class=md-nav__item> <a href=#if-expression-conditions class=md-nav__link> if expression: conditions </a> </li> <li class=md-nav__item> <a href=#with-expression class=md-nav__link> with expression: resource management </a> </li> <li class=md-nav__item> <a href=#module-expression class=md-nav__link> module expression </a> </li> <li class=md-nav__item> <a href=#with-expression class=md-nav__link> with expression: resource management </a> <nav class=md-nav aria-label="with expression: resource management"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#packages class=md-nav__link> Packages </a> </li> <li class=md-nav__item> <a href=#records class=md-nav__link> Records </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#import-expression-importing-functions-from-other-modules class=md-nav__link> import expression: importing functions from other modules </a> </li> <li class=md-nav__item> <a href=#raise-trycatch-expressions-raising-and-catching-exceptions class=md-nav__link> raise, try/catch expressions: raising and catching exceptions </a> </li> <li class=md-nav__item> <a href=#loops-recursion-and-generators class=md-nav__link> Loops: recursion and generators </a> <nav class=md-nav aria-label="Loops: recursion and generators"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generators class=md-nav__link> Generators </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#strings class=md-nav__link> Strings </a> <nav class=md-nav aria-label=Strings> <ul class=md-nav__list> <li class=md-nav__item> <a href=#string-interpolation class=md-nav__link> String Interpolation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Features <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Features data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../features/data-types/ class=md-nav__link> Data Types </a> </li> <li class=md-nav__item> <a href=../features/module-loader/ class=md-nav__link> Module Loader </a> </li> <li class=md-nav__item> <a href=../features/operators/ class=md-nav__link> Operators </a> </li> <li class=md-nav__item> <a href=../features/pattern-matching/ class=md-nav__link> Pattern Matching </a> </li> <li class=md-nav__item> <a href=../features/polyglot/ class=md-nav__link> Polyglot </a> </li> <li class=md-nav__item> <a href=../features/resource-management/ class=md-nav__link> Resource Management </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Standard Library <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Standard Library" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Standard Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../stdlib/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../stdlib/dict/ class=md-nav__link> Dict </a> </li> <li class=md-nav__item> <a href=../stdlib/file/ class=md-nav__link> File </a> </li> <li class=md-nav__item> <a href=../stdlib/io/ class=md-nav__link> IO </a> </li> <li class=md-nav__item> <a href=../stdlib/java/ class=md-nav__link> Java </a> </li> <li class=md-nav__item> <a href=../stdlib/json/ class=md-nav__link> JSON </a> </li> <li class=md-nav__item> <a href=../stdlib/regexp/ class=md-nav__link> Regexp </a> </li> <li class=md-nav__item> <a href=../stdlib/seq/ class=md-nav__link> Seq </a> </li> <li class=md-nav__item> <a href=../stdlib/set/ class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href=../stdlib/stm/ class=md-nav__link> STM </a> </li> <li class=md-nav__item> <a href=../stdlib/system/ class=md-nav__link> System </a> </li> <li class=md-nav__item> <a href=../stdlib/transducers/ class=md-nav__link> Transducers </a> </li> <li class=md-nav__item> <a href=../stdlib/tuple/ class=md-nav__link> Tuple </a> </li> <li class=md-nav__item> <a href=../stdlib/types/ class=md-nav__link> Types </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_15 type=checkbox id=__nav_6_15> <label class=md-nav__link for=__nav_6_15> Context <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Context data-md-level=2> <label class=md-nav__title for=__nav_6_15> <span class="md-nav__icon md-icon"></span> Context </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../stdlib/context/local/ class=md-nav__link> context\Local </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_16 type=checkbox id=__nav_6_16> <label class=md-nav__link for=__nav_6_16> Functions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Functions data-md-level=2> <label class=md-nav__title for=__nav_6_16> <span class="md-nav__icon md-icon"></span> Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../stdlib/functions/async/ class=md-nav__link> async </a> </li> <li class=md-nav__item> <a href=../stdlib/functions/eval/ class=md-nav__link> eval </a> </li> <li class=md-nav__item> <a href=../stdlib/functions/float/ class=md-nav__link> float </a> </li> <li class=md-nav__item> <a href=../stdlib/functions/identity/ class=md-nav__link> identity </a> </li> <li class=md-nav__item> <a href=../stdlib/functions/int/ class=md-nav__link> int </a> </li> <li class=md-nav__item> <a href=../stdlib/functions/never/ class=md-nav__link> never </a> </li> <li class=md-nav__item> <a href=../stdlib/functions/sleep/ class=md-nav__link> sleep </a> </li> <li class=md-nav__item> <a href=../stdlib/functions/str/ class=md-nav__link> str </a> </li> <li class=md-nav__item> <a href=../stdlib/functions/timeout/ class=md-nav__link> timeout </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_17 type=checkbox id=__nav_6_17> <label class=md-nav__link for=__nav_6_17> Http <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Http data-md-level=2> <label class=md-nav__title for=__nav_6_17> <span class="md-nav__icon md-icon"></span> Http </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../stdlib/http/client/ class=md-nav__link> http\Client </a> </li> <li class=md-nav__item> <a href=../stdlib/http/server/ class=md-nav__link> http\Server </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_18 type=checkbox id=__nav_6_18> <label class=md-nav__link for=__nav_6_18> Java <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Java data-md-level=2> <label class=md-nav__title for=__nav_6_18> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../stdlib/java/types/ class=md-nav__link> java\Types </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_19 type=checkbox id=__nav_6_19> <label class=md-nav__link for=__nav_6_19> Misc <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Misc data-md-level=2> <label class=md-nav__title for=__nav_6_19> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../stdlib/misc/timetuple/ class=md-nav__link> Duration specified as a tuple </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#terminology class=md-nav__link> Terminology </a> </li> <li class=md-nav__item> <a href=#functions-definition-and-application class=md-nav__link> Functions: definition and application </a> <nav class=md-nav aria-label="Functions: definition and application"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#anonymous-functions-aka-lambdas class=md-nav__link> Anonymous functions: aka lambdas </a> </li> <li class=md-nav__item> <a href=#function-application-calling-functions class=md-nav__link> Function application: calling functions </a> </li> <li class=md-nav__item> <a href=#pipes-and-operator-precedence class=md-nav__link> Pipes and operator precedence </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#let-expression class=md-nav__link> let expression: defining local aliases / pattern matching in the scope of evaluated expression </a> </li> <li class=md-nav__item> <a href=#do-expression class=md-nav__link> do expression: sequencing side effects </a> </li> <li class=md-nav__item> <a href=#case-expression-pattern-matching class=md-nav__link> case expression: pattern matching </a> </li> <li class=md-nav__item> <a href=#if-expression-conditions class=md-nav__link> if expression: conditions </a> </li> <li class=md-nav__item> <a href=#with-expression class=md-nav__link> with expression: resource management </a> </li> <li class=md-nav__item> <a href=#module-expression class=md-nav__link> module expression </a> </li> <li class=md-nav__item> <a href=#with-expression class=md-nav__link> with expression: resource management </a> <nav class=md-nav aria-label="with expression: resource management"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#packages class=md-nav__link> Packages </a> </li> <li class=md-nav__item> <a href=#records class=md-nav__link> Records </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#import-expression-importing-functions-from-other-modules class=md-nav__link> import expression: importing functions from other modules </a> </li> <li class=md-nav__item> <a href=#raise-trycatch-expressions-raising-and-catching-exceptions class=md-nav__link> raise, try/catch expressions: raising and catching exceptions </a> </li> <li class=md-nav__item> <a href=#loops-recursion-and-generators class=md-nav__link> Loops: recursion and generators </a> <nav class=md-nav aria-label="Loops: recursion and generators"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generators class=md-nav__link> Generators </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#strings class=md-nav__link> Strings </a> <nav class=md-nav aria-label=Strings> <ul class=md-nav__list> <li class=md-nav__item> <a href=#string-interpolation class=md-nav__link> String Interpolation </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/yona-lang/yona/edit/master/docs/syntax.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>Syntax</h1> <p>Programs in Yona consist always of evaluation of a single expression. In fact, any Yona program consists of exactly one expression.</p> <p>The syntax is intentionally very minimalistic and inspired by languages such as SML or Haskell. There are only a handful of keywords, however it is not as flexible in naming as Haskell for example.</p> <p>Yona programs have the ambition to be easily readable. Custom operators with names consisting of <a href=../features/data-types/ >symbols</a> alone are not that useful when reading a program for the first time. This is why Yona does not support custom operators named by <a href=../features/data-types/ >symbols</a> only. Supported operators are listed <a href=../features/operators/ >here</a>.</p> <p>Yona does not have indentation specific parsing rules, but it does require new line at certain locations, which are noted in each individual expression descriptions.</p> <p>Comments are denoted by the <code>#</code> character and everything that follows this character until the end of line (<code>\n</code> or <code>\r\n</code>) is considered a comment and ignored.</p> <p>The source code of a Yona program must be a valid UTF-8 text file.</p> <h2 id=terminology><strong>Terminology</strong><a class=headerlink href=#terminology title="Permanent link">&para;</a></h2> <p>These are some common terms and phrases used throughout these texts explained to a user unfamiliar with functional concepts:</p> <ul> <li> <p><strong>Function application</strong>: simply function call.</p> </li> <li> <p><strong><a href=https://javascript.info/currying-partials>Currying</a></strong>: a transformation of functions that translates a function from callable as <code>f(a, b, c)</code> into callable as <code>f(a)(b)(c)</code>. Currying doesnâ€™t call a function. It just transforms it. The example uses JavaScript syntax for clarity.</p> </li> <li> <p><strong>Alias</strong>: what would be a variable in other languages, but cannot have its value modified during program execution. Once set, this <strong>alias</strong>, or a <strong>name</strong>, always contains the same original value.</p> </li> <li> <p><strong>Pattern</strong>: an expected shape of a value. If the value "matches" this pattern, then this value can also be deconstructed onto it. For instance a pattern can be a first element of a list and the rest. The first element can be also assigned to an alias (or the rest), provided that the value matched this pattern. Patterns can be nested and serve as a building blocks for describing data structure for matching and extracting values. Patterns may be as simple as an alias - that is also a pattern in a way. An alias will be matched if an only it is a new name, that was not previously assigned, or if it was, then only if the value is the same as the one previously assigned to it.</p> </li> <li> <p><strong>Guard</strong>: guards are additional conditions that may be applied to patterns, that otherwise couldn't be expressed using pattern syntax. Typical example might be a function call to determine a type of a value for example.</p> </li> <li> <p><strong>String interpolation</strong>: process of substituting values of variables into placeholders in a string. For instance, if there a template for saying hello to a person like "Hello {parson}, nice to meet you!", where the placeholder should be replaced with an actual person's name. This process is called string interpolation.</p> </li> </ul> <h2 id=functions-definition-and-application><strong>Functions</strong>: definition and application<a class=headerlink href=#functions-definition-and-application title="Permanent link">&para;</a></h2> <p>Functions in Yona are defined in a very short and concise form. They may take arguments, which the function can pattern match on, and one function can be defined using multiple arguments. Function names must start with a lowercase letter, followed by any letters, numbers or underscores.</p> <p>A simple function to calculate a factorial can be written for example this way:</p> <div class=highlight><pre><span></span><code><span class=nf>factorial</span> <span class=mi>1</span> <span class=ow>=</span> <span class=mi>1</span>
<span class=nf>factorial</span> <span class=n>n</span> <span class=ow>=</span> <span class=n>n</span> <span class=o>*</span> <span class=n>factorial</span> <span class=p>(</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
</code></pre></div> <p>Each function case must be on a new line. More complex conditions in patterns can be specified in this way:</p> <p><div class=highlight><pre><span></span><code><span class=nf>factorial</span> <span class=mi>1</span> <span class=ow>=</span> <span class=mi>1</span>
<span class=nf>factorial</span> <span class=n>n</span> 
  <span class=o>|</span> <span class=n>n</span> <span class=o>&gt;</span> <span class=mi>1</span> <span class=ow>=</span> <span class=n>n</span> <span class=o>*</span> <span class=n>factorial</span> <span class=p>(</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
</code></pre></div> Which means that there is an additional condition for the <code>n</code> value to be greater than 0. There may be multiple guards for each pattern and they must each be on a new line. A guard starts with the <code>|</code> character, followed an expression that must evaluate to a boolean and finally an <code>=</code> and the expression to evaluate if the pattern matches and the guard is <code>true</code>. Guards are used to express conditions that must be met in order for the pattern to match. A pattern may have none, one or multiple guards, and the first one matching will cause the pattern to match.</p> <p>Note that function arguments may actually be full patterns, not just argument names. Patterns are described in the section named <em>Pattern Matching</em>.</p> <p>Yona additionally supports non-linear patterns, meaning that if a pattern contains the same name multiple times, than this name is required to match the same value so that the pattern would match. This can be handy when checking for one value to be present in multiple places/arguments without having to explicitly write a guard that would ensure the equality.</p> <h3 id=anonymous-functions-aka-lambdas><strong>Anonymous functions</strong>: aka lambdas<a class=headerlink href=#anonymous-functions-aka-lambdas title="Permanent link">&para;</a></h3> <p>Since functions are first-class citizens in Yona, it is necessary to provide means of passing functions as arguments, and also to define them without giving them a name. The following syntax is used in this case:</p> <div class=highlight><pre><span></span><code><span class=se>\a</span>rgument_one argument_two -&gt; argument_one argument_two  <span class=c1># lambda function for summing its arguments</span>
</code></pre></div> <p>A lambda function with no arguments is simply: <code>\-&gt; :something</code>.</p> <h3 id=function-application-calling-functions><strong>Function application</strong>: calling functions<a class=headerlink href=#function-application-calling-functions title="Permanent link">&para;</a></h3> <p>Calling a function simply means writing the name of the function and then specifying its arguments. If fewer arguments are provided than the function expects, this is considered a <a href=https://en.wikipedia.org/wiki/Currying>curried</a> call, and the result of such function is a partially applied function, that can be called with the remaining arguments at a later point.</p> <p>So for example calling a <code>factorial</code> would look simply like this:</p> <div class=highlight><pre><span></span><code><span class=nf>factorial</span> <span class=mi>5</span>
</code></pre></div> <p>Since Yona is a strictly evaluated language, meaning that arguments are evaluated before calling the function (as opposed to a lazy language, where arguments are only evaluated when actually used by the called function), there is one situation to be careful about and that is passing lambda functions of zero arguments as arguments to functions. This would be evaluated before actually calling the function. If there are no side-effects happening in the lambda, it might be perfectly fine, however if the lambda must be passed as a lambda, it needs to be wrapped into another lambda at the call-site, such as for example:</p> <div class=highlight><pre><span></span><code><span class=nb>let</span>
    <span class=nv>lambda</span> <span class=o>=</span> <span class=se>\-</span>&gt; IO::println :hello
<span class=k>in</span>
    do_something_with <span class=se>\-</span>&gt; lambda  <span class=c1># instead of do_something_with lambda</span>
</code></pre></div> <p>Then the <code>do_something_with</code> function will obtain its argument as a function and not a result of <code>IO::println :hello</code> function (that would be <code>:hello</code> btw).</p> <h3 id=pipes-and-operator-precedence>Pipes and operator precedence<a class=headerlink href=#pipes-and-operator-precedence title="Permanent link">&para;</a></h3> <p>Since Yona is an ML-style language and, unlike many C-like languages, it does not use parentheses to denote a function application, it can become unclear which expressions are arguments of which function. Take for the following example:</p> <div class=highlight><pre><span></span><code><span class=kt>Seq</span><span class=ow>::</span><span class=n>take</span> <span class=mi>5</span> <span class=kt>Seq</span><span class=ow>::</span><span class=n>random</span> <span class=mi>10</span>
</code></pre></div> <p>Is this a function call to the <code>Seq::take</code> function (that is a function <code>take</code> in the module <code>Seq</code> as explained later) with 3 arguments (5, <code>Seq::random</code> and 10) or is it <code>Seq::random 10</code> supposed to be computed first and then its result used as a second argument to <code>Seq::take</code>?</p> <p>If the latter, then it can be written this way:</p> <div class=highlight><pre><span></span><code><span class=kt>Seq</span><span class=ow>::</span><span class=n>take</span> <span class=mi>5</span> <span class=p>(</span><span class=kt>Seq</span><span class=ow>::</span><span class=n>random</span> <span class=mi>10</span><span class=p>)</span>
</code></pre></div> <p>Since any expression can be put into parentheses and be given precedence in evaluation. Another way to write this would be using <em>pipes</em>:</p> <div class=highlight><pre><span></span><code><span class=kt>Seq</span><span class=ow>::</span><span class=n>take</span> <span class=mi>5</span> <span class=o>&lt;|</span> <span class=kt>Seq</span><span class=ow>::</span><span class=n>random</span> <span class=mi>10</span>
</code></pre></div> <p>or</p> <div class=highlight><pre><span></span><code><span class=kt>Seq</span><span class=ow>::</span><span class=n>random</span> <span class=mi>10</span> <span class=o>|&gt;</span> <span class=kt>Seq</span><span class=ow>::</span><span class=n>take</span> <span class=mi>5</span>
</code></pre></div> <p>These are all equivalent expression and it is up to the programmer's preference to decide which one to use. One nice feature that pipes have is that they can be used on multiple lines, such as:</p> <div class=highlight><pre><span></span><code><span class=kt>Seq</span><span class=ow>::</span><span class=n>random</span> <span class=mi>10</span>
<span class=o>|&gt;</span> <span class=kt>Seq</span><span class=ow>::</span><span class=n>take</span> <span class=mi>5</span>
<span class=o>|&gt;</span> <span class=kt>IO</span><span class=ow>::</span><span class=n>println</span>
</code></pre></div> <h2 id=let-expression><strong><code>let</code> expression</strong>: defining local aliases / pattern matching in the scope of evaluated expression<a class=headerlink href=#let-expression title="Permanent link">&para;</a></h2> <p>The <code>let</code> expression allows defining aliases in the scope of the executed expressions. Alias represents a name for some value, like a variable, unlike a variable though, its value may not be changed over time. This expression allows evaluating patterns as well, so it is possible to deconstruct a value from a sequence, tuple, set, dictionary or a record directly, for example:</p> <div class=highlight><pre><span></span><code><span class=kr>let</span>
    <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>second</span><span class=p>)</span> <span class=ow>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
    <span class=n>pattern</span>     <span class=ow>=</span> <span class=n>expression1</span>
<span class=kr>in</span>
    <span class=n>expression2</span>
</code></pre></div> <p>As shown in this example, the <code>let</code> expression consists of two parts. Each line consists of an alias or a pattern on the left side, and the expression to evaluate on the right side. The result of this expression is then matched to the pattern on the left side, or simply assigned to an alias, depending on what is on the left side. The result of this <code>let</code> expression is the result of the <code>expression2</code> expression. If a pattern on the left is not matched on any of the lines, the whole <code>let</code> expression raises a <code>:nomatch</code> exception. One line can use names defined in previous lines. Every alias/pattern must be defined on a new line.</p> <p>Note that the order of execution of the alias/pattern lines is not strictly sequential. Considering the example in the <a href=/usecase#example>documentation homepage</a>, some aliases can be executed as a single batch, in parallel, provided that two conditions are met: * the do not depend on each other (do not use names provided by other aliases in the same batch) * they return a runtime Promise (IO operations, or results of the <a href=/stdlib/functions/async><code>async</code></a> function)</p> <p>When both conditions are met, Yona can safely execute them concurrently, avoiding unnecessary blocking and effectively speeding up the program execution.</p> <h2 id=do-expression><strong><code>do</code> expression</strong>: sequencing side effects<a class=headerlink href=#do-expression title="Permanent link">&para;</a></h2> <p>The <code>do</code> expression is used to define a sequence of side effecting expressions. This expression is very similar to the <code>let</code> expression in the sense that it allows defining aliases and patterns, however, it doesn't have a separate expression that would be used as a result of this expression. Instead the result of the last line is used as the result.</p> <div class=highlight><pre><span></span><code><span class=kr>do</span>
    <span class=n>start_time</span>  <span class=ow>=</span> <span class=kt>Time</span><span class=ow>::</span><span class=n>now</span>
    <span class=p>(</span><span class=kt>:</span><span class=n>ok</span><span class=p>,</span> <span class=n>line</span><span class=p>)</span> <span class=ow>=</span> <span class=kt>File</span><span class=ow>::</span><span class=n>read_line</span> <span class=n>f</span>
    <span class=n>end_time</span>    <span class=ow>=</span> <span class=kt>Time</span><span class=ow>::</span><span class=n>now</span>
    <span class=n>printf</span> <span class=n>line</span>
    <span class=n>printf</span> <span class=p>(</span><span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span><span class=p>)</span>
<span class=nf>end</span>
</code></pre></div> <p>Note that unlike the case with the <code>let</code> expression, the order of executed expressions is guaranteed to be exactly the same as the order in which they are written. This is the main use-case of the <code>do</code> expression: to allow strict ordering of execution. It does not matter whether an expression returns a run-time level Promise (such as one that can be created by a IO call or by using the <a href=/stdlib/functions/async><code>async</code></a> function), the order defined in this expression is always guaranteed to be maintained.</p> <h2 id=case-expression-pattern-matching><strong><code>case</code> expression</strong>: pattern matching<a class=headerlink href=#case-expression-pattern-matching title="Permanent link">&para;</a></h2> <p><code>case</code> expression is used for pattern matching on an expression. Each line of this expression contains a pattern followed by an arrow <code>-&gt;</code> and an expression that is evaluated in case of a successful pattern match. Patterns are tried in the order in which they are specified. The default case can be denoted by an underscore <code>_</code> pattern that always evaluates as true.</p> <div class=highlight><pre><span></span><code><span class=kr>case</span> <span class=kt>File</span><span class=ow>::</span><span class=n>read_line</span> <span class=n>f</span> <span class=kr>of</span>
    <span class=p>(</span><span class=kt>:</span><span class=n>ok</span><span class=p>,</span> <span class=n>line</span><span class=p>)</span>       <span class=ow>-&gt;</span> <span class=n>line</span>
    <span class=p>(</span><span class=kt>:</span><span class=n>ok</span><span class=p>,</span> <span class=kt>:</span><span class=n>eof</span><span class=p>)</span>       <span class=ow>-&gt;</span> <span class=kt>:</span><span class=n>eof</span>
    <span class=n>err</span><span class=o>@</span><span class=p>(</span><span class=kt>:</span><span class=ne>error</span><span class=p>,</span> <span class=kr>_</span><span class=p>)</span>   <span class=ow>-&gt;</span> <span class=n>err</span>
    <span class=n>tuple</span>   <span class=o>#</span> <span class=n>guard</span> <span class=n>expressions</span> <span class=n>below</span>
        <span class=o>|</span> <span class=n>tuple_size</span> <span class=n>tuple</span> <span class=o>==</span> <span class=mi>3</span> <span class=ow>-&gt;</span> <span class=kt>:</span><span class=n>ok</span>
        <span class=o>|</span> <span class=n>true</span>                  <span class=ow>-&gt;</span> <span class=kt>:</span><span class=n>ok</span>
    <span class=kr>_</span>                 <span class=ow>-&gt;</span> <span class=p>(</span><span class=kt>:</span><span class=ne>error</span><span class=p>,</span> <span class=kt>:</span><span class=n>unknown</span><span class=p>)</span>
<span class=nf>end</span>
</code></pre></div> <p>Same as with function definition patterns, patterns in the <code>case</code> expression can contain guard expressions, as is the case in the <em>tuple</em> pattern in the example above. Patterns with a guard expression will be matched only the guard evaluated to <code>true</code>. Note that each pattern may have multiple guard expression, in which case the first one evaluated to <code>true</code> will match. Guards are tried in the order they are specified in.</p> <h2 id=if-expression-conditions><strong><code>if</code> expression</strong>: conditions<a class=headerlink href=#if-expression-conditions title="Permanent link">&para;</a></h2> <p><code>if</code> is a conditional expression that takes form:</p> <div class=highlight><pre><span></span><code><span class=kr>if</span> <span class=n>expression</span>
<span class=kr>then</span>
    <span class=n>expression</span>
<span class=kr>else</span>
    <span class=n>expression</span>
</code></pre></div> <p>Both the <code>then</code> and the <code>else</code> parts must be defined. The expression after <code>if</code> must evaluate to a boolean value. Empty sequences, dictionaries or similar will not work! New lines are allowed, but not required.</p> <h2 id=with-expression><strong><code>with</code> expression</strong>: resource management<a class=headerlink href=#with-expression title="Permanent link">&para;</a></h2> <p><code>with</code> expression handles resource management within its scope. It initilizes the scope with a <a href=../features/resource-management/#context-managers>context manager</a> that is available within the scope its body.</p> <p>The syntax looks like this (<code>as alias</code> part is optional): <div class=highlight><pre><span></span><code><span class=nf>with</span> <span class=n>contextManager</span> <span class=n>as</span> <span class=n>alias</span>
    <span class=n>bodyExpression</span>
<span class=nf>end</span>
</code></pre></div></p> <p>The <code>contextManager</code> expression must return a <a href=../features/resource-management/#context-managers>context manager</a>. If no alias is used, then the context manager is not meant to be interacted with directly. An example for this would be an <a href=/stdlib/stm>STM</a> transaction, that just needs to be present but there is no need to directly refer to it.</p> <p>Alternatively, if the alias is specified, as usually case with files, then the file created in the <code>contextManager</code> part of this expression can be directly accessed in <code>bodyExpression</code>.</p> <p>Example that reads all lines using <a href=/stdlib/file#opening-closing><code>File::read_lines</code></a> function:</p> <div class=highlight><pre><span></span><code><span class=nf>with</span> <span class=kt>File</span><span class=ow>::</span><span class=n>open</span> <span class=s>&quot;File.txt&quot;</span> <span class=p>{</span><span class=kt>:</span><span class=n>read</span><span class=p>}</span> <span class=n>as</span> <span class=n>file</span>
    <span class=kt>File</span><span class=ow>::</span><span class=n>read_lines</span> <span class=n>file</span>
<span class=nf>end</span>
</code></pre></div> <h2 id=module-expression><strong>module expression</strong><a class=headerlink href=#module-expression title="Permanent link">&para;</a></h2> <p><code>module</code> is an expression representing a set of records (optional) and functions. A module must export at least one function, others may be private - usable only from functions defined within the same module. Records are always visible only within the same module and may not be exported. A module may be defined as a file - in this case, the file must take the name of the module + <code>.yona</code>. Also, see section about <a href=../features/module-loader/ >module loader</a> for details regarding loading modules.</p> <div class=highlight><pre><span></span><code><span class=kr>module</span> <span class=err>package\</span><span class=nn>DemoMmodule</span> 
    <span class=n>exports</span> <span class=n>function1</span><span class=p>,</span> <span class=n>function2</span>
<span class=nf>as</span>

<span class=nf>record</span> <span class=kt>DataStructure</span> <span class=ow>=</span> <span class=p>(</span><span class=n>field_one</span><span class=p>,</span> <span class=n>field_two</span><span class=p>)</span>

<span class=nf>function1</span> <span class=ow>=</span> <span class=kt>:</span><span class=n>something</span>

<span class=nf>function2</span> <span class=ow>=</span> <span class=kt>:</span><span class=n>something_else</span>
<span class=nf>end</span>
</code></pre></div> <p>Calling functions from a module is denoted by a double colon: <div class=highlight><pre><span></span><code>package\DemoModule::function1
````

Modules must have capitalized names, while packages are expected to start with a lowercase letter.

Module may also be defined dynamically, for example assigned to a name in a `let` expression:

```haskell
let some_module = module TestModule exports test_function as
        test_function = 5
    end
in
    some_module::test_function
</code></pre></div></p> <p>In this case the name of the module does not matter, as the module is assigned to the <code>test_module</code> value.</p> <h2 id=with-expression><strong><code>with</code> expression</strong>: resource management<a class=headerlink href=#with-expression title="Permanent link">&para;</a></h2> <p><code>with</code> expression handles resource management within its scope. It initializes the scope with a <a href=/features/resource-management#context-managers>context manager</a> that is available within the scope its body.</p> <p>The syntax lookes like this (<code>as alias</code> part is optional): <div class=highlight><pre><span></span><code><span class=nf>with</span> <span class=n>contextManager</span> <span class=n>as</span> <span class=n>alias</span>
    <span class=n>bodyExpression</span>
<span class=nf>end</span>
</code></pre></div></p> <p>The <code>contextManager</code> expression must return a <a href=/features/resource-management#context-managers>context manager</a>. If no alias is used, then the context manager is not meant to be interacted with directly. An example for this would be an <a href=/stdlib/stm>STM</a> transaction, that just needs to be present but there is no need to directly refer to it.</p> <p>Alternatively, if the alias is specified, as usually case with files, then the file creted in the <code>contextManager</code> part of this expression can be directly accessed in <code>bodyExpression</code>.</p> <p>Example that reads all lines using <a href=stdlib/file#opening-closing><code>File::read_lines</code></a> function:</p> <div class=highlight><pre><span></span><code><span class=nf>with</span> <span class=kt>File</span><span class=ow>::</span><span class=n>open</span> <span class=s>&quot;File.txt&quot;</span> <span class=p>{</span><span class=kt>:</span><span class=n>read</span><span class=p>}</span> <span class=n>as</span> <span class=n>file</span>
    <span class=kt>File</span><span class=ow>::</span><span class=n>read_lines</span> <span class=n>file</span>
<span class=nf>end</span>
</code></pre></div> <h3 id=packages>Packages<a class=headerlink href=#packages title="Permanent link">&para;</a></h3> <p>Packages are logical units for organizing modules. Modules stored in packages must follow a folder structure which is exactly the same as the package path.</p> <h3 id=records>Records<a class=headerlink href=#records title="Permanent link">&para;</a></h3> <p>New data structures in Yona can be implemented simply by using tuples. However, as tuples grow in number of elements, it may become useful to name those elements rather than always matching on a particular n-th element. To do so, Yona provides <code>records</code>.</p> <p>Records are essentially named tuples with names for each element and can be used to refer to a particular element by that name. Records exist within the scope of a module and cannot be imported by or exported to other modules. Modules are meant to provide an interface via functions alone.</p> <p>A record is defined by its name and a list of field names. Here's an example of a record definition:</p> <div class=highlight><pre><span></span><code><span class=nf>record</span> <span class=kt>Car</span> <span class=ow>=</span> <span class=p>(</span><span class=n>brand</span><span class=p>,</span> <span class=n>model</span><span class=p>,</span> <span class=n>engine_type</span><span class=p>)</span>
</code></pre></div> <p>To initialize a new record instance, following syntax should be used:</p> <div class=highlight><pre><span></span><code><span class=kr>let</span>
    <span class=n>car</span> <span class=ow>=</span> <span class=kt>Car</span><span class=p>(</span><span class=n>brand</span><span class=ow>=</span><span class=s>&quot;Audi&quot;</span><span class=p>,</span> <span class=n>model</span><span class=ow>=</span><span class=s>&quot;A4&quot;</span><span class=p>,</span> <span class=n>engine_type</span><span class=ow>=</span><span class=s>&quot;TDI&quot;</span><span class=p>)</span>
<span class=kr>in</span>
    <span class=o>...</span>
</code></pre></div> <p>Note that not all fields are required when initializing record. Uninitialized fields are then initialized with value of <code>()</code> (unit). At least one field must be provided during initialization, though (its value may be unit as well).</p> <p>Updating an existing record instance (actually creating a new one with some fields changed) can be done using this syntax:</p> <div class=highlight><pre><span></span><code><span class=nb>let</span>
    <span class=nv>new_car</span> <span class=o>=</span> car<span class=o>(</span><span class=nv>model</span><span class=o>=</span><span class=s2>&quot;A6&quot;</span><span class=o>)</span>  <span class=c1># this is same as Car(brand=&quot;Audi&quot;, model=&quot;A4&quot;, engine_type=&quot;TDI&quot;)</span>
<span class=k>in</span>
    ...
</code></pre></div> <p>To access a field from a record instance a dot syntax is used:</p> <div class=highlight><pre><span></span><code>IO::println new_car.model  <span class=c1># will print A6</span>
</code></pre></div> <p>Pattern matching on records is very easy as well:</p> <div class=highlight><pre><span></span><code>order_car Car<span class=o>(</span><span class=nv>brand</span><span class=o>=</span><span class=s2>&quot;Audi&quot;</span>, <span class=nv>model</span><span class=o>=</span>model<span class=o>)</span> <span class=o>=</span> order_audi_model model
order_car Car<span class=o>(</span><span class=nv>brand</span><span class=o>=</span><span class=s2>&quot;Lexus&quot;</span>, <span class=nv>model</span><span class=o>=</span>model<span class=o>)</span> <span class=o>=</span> order_lexus_model model
order_car any_car@Car <span class=o>=</span> order_elsewhere any_car  <span class=c1># the whole record_instance is available under name any_car</span>
</code></pre></div> <h2 id=import-expression-importing-functions-from-other-modules><strong><code>import</code> expression</strong>: importing functions from other modules<a class=headerlink href=#import-expression-importing-functions-from-other-modules title="Permanent link">&para;</a></h2> <p>Normally, it is not necessary to import modules, as it is often the case in many other languages. Functions from another modules can be called without explicitly declaring them as imported. However, Yona has a special <code>import</code> expression (and as such it returns the value of the expression followed by the <code>in</code> keyword) that allows importing functions from modules and in that way create aliases for otherwise fully qualified names.</p> <div class=highlight><pre><span></span><code>import
    funone as one_fun, otherfun from package<span class=se>\S</span>impleModule
    funtwo from other<span class=se>\p</span>ackage<span class=se>\N</span>otSimpleModule
<span class=k>in</span>
    onefun :something  <span class=c1># expression that is the return value of the whole import expression</span>
</code></pre></div> <p>Note that importing functions from multiple modules is possible, they just have to be put on new lines. Functions can be renamed using the <code>as</code> keyword.</p> <p>See the section about <a href=../features/module-loader/ >module loader</a> for more details regarding loading modules.</p> <h2 id=raise-trycatch-expressions-raising-and-catching-exceptions><strong><code>raise</code>, <code>try</code>/<code>catch</code> expressions</strong>: raising and catching exceptions<a class=headerlink href=#raise-trycatch-expressions-raising-and-catching-exceptions title="Permanent link">&para;</a></h2> <p>Yona is not a pure language, therefore it allows raising exceptions. Exceptions in Yona are represented as a tuple of a symbol and a message. Message can be empty, if not provided as an argument to the keyword/function <code>raise</code>.</p> <p>Exceptions in Yona consist of three components. First component, is the type of the exception, represented as a symbol. The second component is a string description of the exception - an error message. Last component is the stacktrace which is appended by the runtime automatically.</p> <p>Raising an exception can be accomplished by the <code>raise</code> expression:</p> <div class=highlight><pre><span></span><code>raise :badarg <span class=s2>&quot;Error message&quot;</span>  <span class=c1># where :badarg is a symbol denoting type of exception</span>
</code></pre></div> <p>Catching an exception is done with <code>try</code>/<code>catch</code>. Catching an exception is essentially pattern matching on an exception triple that consists of all three exception components.</p> <div class=highlight><pre><span></span><code>try
    expression
catch
    (:badarg, error_msg, stacktrace)  -&gt; :error
    (:io_error, error_msg, stacktrace) -&gt; :error
end
</code></pre></div> <h2 id=loops-recursion-and-generators><strong>Loops</strong>: recursion and generators<a class=headerlink href=#loops-recursion-and-generators title="Permanent link">&para;</a></h2> <p>Yona is a functional language with immutable data types and no variables. This means that imperative constructs for loops, such as <code>while</code> or <code>for</code> cannot be used. Instead, iteration is normally achieved via recursion. Yona is able to optimize tail-recursive function calls, so they would not stack overflow.</p> <p>A typical Python solution using mutation might look like this:</p> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>factorial</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=n>i</span> <span class=o>=</span> <span class=n>n</span>
    <span class=k>while</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
        <span class=n>i</span> <span class=o>-=</span> <span class=mi>1</span>
        <span class=n>n</span> <span class=o>*=</span> <span class=n>i</span>
    <span class=k>return</span> <span class=n>n</span>
</code></pre></div> <p>However, this solution requires mutable variables, which are not present in Yona. So, an example of a recursive function to calculate factorial in Yona would be:</p> <div class=highlight><pre><span></span><code><span class=nf>factorial</span> <span class=mi>1</span> <span class=ow>=</span> <span class=mi>1</span>
<span class=nf>factorial</span> <span class=n>n</span> <span class=ow>=</span> <span class=n>n</span> <span class=o>*</span> <span class=n>factorial</span> <span class=p>(</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
</code></pre></div> <p>Note that this function is actually not tail-recursive. This is because <code>factorial (n - 1)</code> is evaluated before <code>n * (factorial (n - 1))</code>, so the multiplication is the last expression here and thus there is a potential for stack overflow. That might often not be an issue, just something to consider when writing recursive functions.</p> <p>It would actually not be very difficult to rewrite this function to be tail-recursive, such as:</p> <div class=highlight><pre><span></span><code><span class=nf>factTR</span> <span class=mi>0</span> <span class=n>a</span> <span class=ow>=</span> <span class=n>a</span>
<span class=nf>factTR</span> <span class=n>n</span> <span class=n>a</span> <span class=ow>=</span> <span class=n>factTR</span> <span class=p>(</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=p>(</span><span class=n>n</span> <span class=o>*</span> <span class=n>a</span><span class=p>)</span>

<span class=nf>factorial</span> <span class=n>n</span> <span class=ow>=</span> <span class=n>factTR</span> <span class=n>n</span> <span class=mi>1</span>
</code></pre></div> <p>In this case there is a helper function that is tail-recursive, since the last expression in that function is the call to itself.</p> <h3 id=generators>Generators<a class=headerlink href=#generators title="Permanent link">&para;</a></h3> <p>Another way to iterate over a collection (sequence, set or dictionary) are generator expressions. They allow transforming an existing collection into another one (of possibly different type, such as sequence to dictionary). Generators consist of three or four components:</p> <p>Syntax for a generator generating a sequence from a set: <div class=highlight><pre><span></span><code><span class=p>[</span><span class=n>x</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>|</span> <span class=n>x</span> <span class=ow>&lt;-</span> <span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>}]</span>  <span class=o>#</span> <span class=n>the</span> <span class=n>source</span> <span class=n>collection</span> <span class=n>is</span> <span class=n>a</span> <span class=n>set</span> <span class=kr>of</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>so</span> <span class=n>the</span> <span class=n>result</span> <span class=n>is</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
<span class=p>[</span><span class=n>x</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>|</span> <span class=n>x</span> <span class=ow>&lt;-</span> <span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>}</span> <span class=kr>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>]</span>  <span class=o>#</span> <span class=n>generator</span> <span class=n>with</span> <span class=n>a</span> <span class=n>condition</span><span class=p>,</span> <span class=n>so</span> <span class=n>the</span> <span class=n>result</span> <span class=n>is</span> <span class=p>[</span><span class=mi>4</span><span class=p>]</span>
</code></pre></div></p> <p>Syntax for a generator generating a set from a sequence: <div class=highlight><pre><span></span><code><span class=p>[</span><span class=n>x</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>|</span> <span class=n>x</span> <span class=ow>&lt;-</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]]</span>  <span class=o>#</span> <span class=n>the</span> <span class=n>source</span> <span class=n>collection</span> <span class=n>is</span> <span class=n>a</span> <span class=n>set</span> <span class=kr>of</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>so</span> <span class=n>the</span> <span class=n>result</span> <span class=n>is</span> <span class=p>{</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>}</span>
<span class=p>[</span><span class=n>x</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>|</span> <span class=n>x</span> <span class=ow>&lt;-</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span> <span class=kr>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>]</span>  <span class=o>#</span> <span class=n>generator</span> <span class=n>with</span> <span class=n>a</span> <span class=n>condition</span><span class=p>,</span> <span class=n>so</span> <span class=n>the</span> <span class=n>result</span> <span class=n>is</span> <span class=p>{</span><span class=mi>4</span><span class=p>}</span>
</code></pre></div></p> <p>Syntax for a generator generating a dictionary: <div class=highlight><pre><span></span><code><span class=p>{</span><span class=n>key</span> <span class=ow>=</span> <span class=n>val</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>|</span> <span class=n>key</span> <span class=ow>=</span> <span class=n>val</span> <span class=ow>&lt;-</span> <span class=p>{</span><span class=kt>:</span><span class=n>a</span> <span class=ow>=</span> <span class=mi>1</span><span class=p>,</span> <span class=kt>:</span><span class=n>b</span> <span class=ow>=</span> <span class=mi>2</span><span class=p>,</span> <span class=kt>:</span><span class=n>c</span> <span class=ow>=</span> <span class=mi>3</span><span class=p>}}</span>  <span class=o>#</span> <span class=n>the</span> <span class=n>source</span> <span class=n>collection</span> <span class=n>is</span> <span class=n>a</span> <span class=n>set</span> <span class=kr>of</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>so</span> <span class=n>the</span> <span class=n>result</span> <span class=n>is</span> <span class=p>{</span><span class=kt>:</span><span class=n>a</span> <span class=ow>=</span> <span class=mi>2</span><span class=p>,</span> <span class=kt>:</span><span class=n>b</span> <span class=ow>=</span> <span class=mi>4</span><span class=p>,</span> <span class=kt>:</span><span class=n>c</span> <span class=ow>=</span> <span class=mi>6</span><span class=p>}</span>
<span class=p>{</span><span class=n>key</span> <span class=ow>=</span> <span class=n>val</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>|</span> <span class=n>key</span> <span class=ow>=</span> <span class=n>val</span> <span class=ow>&lt;-</span> <span class=p>{</span><span class=kt>:</span><span class=n>a</span> <span class=ow>=</span> <span class=mi>1</span><span class=p>,</span> <span class=kt>:</span><span class=n>b</span> <span class=ow>=</span> <span class=mi>2</span><span class=p>,</span> <span class=kt>:</span><span class=n>c</span> <span class=ow>=</span> <span class=mi>3</span><span class=p>}</span> <span class=kr>if</span> <span class=n>val</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>}</span>  <span class=o>#</span> <span class=n>generator</span> <span class=n>with</span> <span class=n>a</span> <span class=n>condition</span><span class=p>,</span> <span class=n>so</span> <span class=n>the</span> <span class=n>result</span> <span class=n>is</span> <span class=p>{</span><span class=kt>:</span><span class=n>b</span> <span class=ow>=</span> <span class=mi>4</span><span class=p>}</span>
</code></pre></div></p> <p>Generators are an easy an convenient way to transform built-in collections. They are, however, themselves implemented using the reusable <a href=/stdlib/transducers>Transducers</a> module. For example, a set generator without using the above mentioned syntax "sugar" could look like:</p> <div class=highlight><pre><span></span><code><span class=kt>Transducers</span><span class=ow>::</span><span class=n>filter</span> <span class=nf>\</span><span class=n>val</span> <span class=ow>-&gt;</span> <span class=n>val</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=p>(</span><span class=o>\-&gt;</span> <span class=mi>0</span><span class=p>,</span> <span class=nf>\</span><span class=n>acc</span> <span class=n>val</span> <span class=ow>-&gt;</span> <span class=n>acc</span> <span class=o>+</span> <span class=n>val</span><span class=p>,</span> <span class=nf>\</span><span class=n>acc</span> <span class=ow>-&gt;</span> <span class=n>acc</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span>
<span class=o>|&gt;</span> <span class=kt>Set</span><span class=ow>::</span><span class=n>reduce</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</code></pre></div> <p>The description of the Transducer functions can be found in the module itself. Transducers may be combined in order to create more complex transformations. Also, custom collection may implement their version of a <code>reduce</code> function that accepts a transducer and reduces the collection as desired.</p> <h2 id=strings>Strings<a class=headerlink href=#strings title="Permanent link">&para;</a></h2> <p>Strings in Yona are technically sequences of UTF-8 characters. Character in Yona can be written between apostrophes. Working with strings is then no different than working with any other sequence. String literals can be multi-line as well. There is no special syntax for multi-line strings and a single pair of quotes is used to denote all string literals.</p> <h3 id=string-interpolation>String Interpolation<a class=headerlink href=#string-interpolation title="Permanent link">&para;</a></h3> <p>Yona supports string interpolation for convenience in formatting strings. The syntax is as follows:</p> <div class=highlight><pre><span></span><code>&quot;this string contains an interpolated {variable}&quot;
</code></pre></div> <p>In this string the <code>{variable}</code> part is replaced with whatever contents of the <code>variable</code>. Technically, <code>variable</code> is a name of a bound variable, or an expression in parentheses.</p> <p>It is also possible to use string interpolation with alignment option, which can be used for formatting tabular outputs:</p> <div class=highlight><pre><span></span><code>&quot;{column1,10}|{column2, 10}&quot;
</code></pre></div> <p>The alignment number will make the value align to the right and filled with spaces to the left, if positive. If the number is negative, the opposite applies and the text is aligned to the left with spaces on the right. The number can be either a literal value or any expression that returns an integer.</p> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 17, 2020</span> </small> </div> </article> </div> </div> </main> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script> <script src=../assets/javascripts/bundle.4ea5477f.min.js></script> </body> </html>